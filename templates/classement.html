{% extends 'base.html' %}

{% block title %}Classement{% endblock %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Classement des utilisateurs</h1>
</div>

<div class="container">
    <form action="{{ url_for('classement') }}" method="get" class="mb-3 d-flex">
        <input type="text" name="recherche" placeholder="Recherche..." class="form-control me-2" value="{{ request.args.get('recherche', '') }}">
        <button type="submit" class="btn btn-outline-primary">Rechercher</button>
    </form>
    <div class="d-flex justify-content-end mb-3">
        <a href="?tri=nom_utilisateur&ordre={{ 'desc' if request.args.get('tri') == 'nom_utilisateur' and request.args.get('ordre') == 'asc' else 'asc' }}&recherche={{ request.args.get('recherche', '') }}" class="btn btn-sm btn-outline-secondary me-2">Nom</a>
        <a href="?tri=score&ordre={{ 'asc' if request.args.get('tri') == 'score' and request.args.get('ordre') == 'desc' else 'desc' }}&recherche={{ request.args.get('recherche', '') }}" class="btn btn-sm btn-outline-secondary">Score</a>
    </div>
    <ul class="list-group">
        {% for utilisateur in utilisateurs %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ utilisateur.nom_utilisateur }}
            <span class="badge bg-primary rounded-pill">{{ utilisateur.score }}</span>
        </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
